@model ElectronicsStoreAss3.Models.Checkout.CheckoutSuccessViewModel

@{
    ViewData["Title"] = "Order Successful";
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- Success Header -->
            <div class="text-center mb-5">
                <div class="mb-4">
                    <i class="bi bi-check-circle-fill text-success" style="font-size: 5rem;"></i>
                </div>
                <h1 class="text-success mb-3">Order Placed Successfully!</h1>
                <p class="lead text-muted">
                    Thank you @(Model.CustomerName ?? "")! Your order has been confirmed and is being processed.
                </p>
            </div>

            <!-- Order Details Card -->
            <div class="card border-success mb-4">
                <div class="card-header bg-success text-white">
                    <h4 class="mb-0">
                        <i class="bi bi-bag-check"></i> Order Confirmation
                    </h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>Order Information</h5>
                            <ul class="list-unstyled">
                                <li><strong>Order Number:</strong> #@Model.OrderId</li>
                                <li><strong>Order Date:</strong> @Model.OrderDate.ToString("MMMM dd, yyyy 'at' h:mm tt")</li>
                                <li><strong>Order Total:</strong> <span class="text-success fw-bold">$@Model.OrderTotal</span></li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5>Shipping Information</h5>
                            <ul class="list-unstyled">
                                <li><strong>Tracking Number:</strong> <code>@Model.TrackingNumber</code></li>
                                <li><strong>Carrier:</strong> AWE Express</li>
                                <li><strong>Estimated Delivery:</strong> @DateTime.Now.AddDays(5).ToString("MMMM dd, yyyy")</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- What Happens Next -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5><i class="bi bi-clock-history"></i> What Happens Next?</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="d-flex align-items-start mb-3">
                                <div class="flex-shrink-0">
                                    <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" 
                                         style="width: 40px; height: 40px;">
                                        <span class="fw-bold">1</span>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h6 class="mb-1">Order Processing</h6>
                                    <p class="mb-0 text-muted">We'll prepare your order for shipment within 1-2 business days.</p>
                                </div>
                            </div>
                            
                            <div class="d-flex align-items-start mb-3">
                                <div class="flex-shrink-0">
                                    <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" 
                                         style="width: 40px; height: 40px;">
                                        <span class="fw-bold">2</span>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h6 class="mb-1">Shipment</h6>
                                    <p class="mb-0 text-muted">Your order will be shipped and you'll receive tracking updates.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="d-flex align-items-start mb-3">
                                <div class="flex-shrink-0">
                                    <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" 
                                         style="width: 40px; height: 40px;">
                                        <span class="fw-bold">3</span>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h6 class="mb-1">Delivery</h6>
                                    <p class="mb-0 text-muted">Your package will arrive within 5-7 business days.</p>
                                </div>
                            </div>
                            
                            <div class="d-flex align-items-start mb-3">
                                <div class="flex-shrink-0">
                                    <div class="bg-success text-white rounded-circle d-flex align-items-center justify-content-center" 
                                         style="width: 40px; height: 40px;">
                                        <i class="bi bi-check"></i>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h6 class="mb-1">Enjoy!</h6>
                                    <p class="mb-0 text-muted">Enjoy your new electronics from AWE Electronics!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Email Confirmation Notice -->
            <div class="alert alert-info">
                <h6><i class="bi bi-envelope"></i> Email Confirmation</h6>
                <p class="mb-0">
                    A confirmation email with your order details and tracking information has been sent to your email address.
                    If you don't see it, please check your spam folder.
                </p>
            </div>

            <!-- Action Buttons -->
            <div class="row">
                <div class="col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-body text-center">
                            <i class="bi bi-search text-primary mb-3" style="font-size: 2rem;"></i>
                            <h5>Track Your Order</h5>
                            <p class="text-muted">Monitor your order status and delivery progress</p>
                            <a href="@Url.Action("Track", "Shipment", new { trackingNumber = Model.TrackingNumber })" 
                               class="btn btn-primary">
                                <i class="bi bi-truck"></i> Track Package
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-body text-center">
                            <i class="bi bi-file-earmark-text text-info mb-3" style="font-size: 2rem;"></i>
                            <h5>View Order Details</h5>
                            <p class="text-muted">See complete order information and invoice</p>
                            <a href="@Url.Action("Details", "Order", new { id = Model.OrderId })" 
                               class="btn btn-info">
                                <i class="bi bi-receipt"></i> View Order
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Continue Shopping -->
            <div class="text-center mt-4">
                <h5>Want to order more?</h5>
                <a href="@Url.Action("Catalogue", "Product")" class="btn btn-outline-primary btn-lg me-3">
                    <i class="bi bi-shop"></i> Continue Shopping
                </a>
                
                @if (User.Identity.IsAuthenticated)
                {
                    <a href="@Url.Action("Orders", "Account")" class="btn btn-outline-secondary btn-lg">
                        <i class="bi bi-list-ul"></i> View All Orders
                    </a>
                }
                else
                {
                    <a href="@Url.Action("Register", "Authentication")" class="btn btn-outline-secondary btn-lg">
                        <i class="bi bi-person-plus"></i> Create Account
                    </a>
                }
            </div>

            <!-- Support Information -->
            <div class="card mt-4 mb-5">
                <div class="card-body">
                    <h5><i class="bi bi-headset"></i> Need Help?</h5>
                    <p class="mb-2">
                        If you have any questions about your order, please don't hesitate to contact us:
                    </p>
                    <ul class="list-unstyled mb-0">
                        <li><i class="bi bi-envelope"></i> Email: support@aweelectronics.com</li>
                        <li><i class="bi bi-telephone"></i> Phone: 1800 AWE-TECH (1800 293-8324)</li>
                        <li><i class="bi bi-clock"></i> Support Hours: Mon-Fri 9AM-6PM, Sat 9AM-5PM</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
<script>
    // Optional: Auto-redirect after a certain time
    // setTimeout(function() {
    //     window.location.href = '@Url.Action("Catalogue", "Product")';
    // }, 30000); // 30 seconds

    // Show success animation or confetti (optional enhancement)
    document.addEventListener('DOMContentLoaded', function() {
        // You could add confetti or celebration animation here
        console.log('Order placed successfully! Order #@Model.OrderId');
        
        // Optional: Google Analytics or other tracking
        // gtag('event', 'purchase', {
        //     'transaction_id': '@Model.OrderId',
        //     'value': @(Model.OrderTotal ?? "0"),
        //     'currency': 'AUD'
        // });
    });
</script>
}

<style>
    .card {
        transition: transform 0.2s ease-in-out;
    }
    
    .card:hover {
        transform: translateY(-2px);
    }
    
    .bg-success {
        background-color: #28a745 !important;
    }
    
    .text-success {
        color: #28a745 !important;
    }
    
    .border-success {
        border-color: #28a745 !important;
    }
</style>